# Парсер товаров с сайта vprok.ru

## Описание

Данный проект представляет собой тестовое задание, целью которого является разработка парсера сайта vprok.ru двумя способами: с использованием браузерной библиотеки Puppeteer и путем анализа запросов к API сайта с использованием Axios.

## Требования

-   Node.js (версии 16+)
    
-   Библиотеки: `puppeteer`, `axios`
    

## Установка

Клонируйте репозиторий:

```
git clone <repo_url>
cd <repo_name>
```

Установите зависимости:

```
npm install
```

----------

## Часть 1: Парсинг страницы товара через Puppeteer

### Описание

Скрипт `puppeteer.js` выполняет следующее:

-   Открывает страницу товара на сайте vprok.ru в эмулированном браузере
    
-   Выбирает заданный регион
    
-   Делает полноразмерный скриншот страницы товара (`screenshot.jpg`)
    
-   Извлекает цену (актуальную и зачеркнутую, если есть), рейтинг и количество отзывов
    
-   Сохраняет данные в `product.txt`
    

### Использование

```
node puppeteer.js <url_товара> "<регион>"
```

**Пример:**

```
node puppeteer.js https://www.vprok.ru/product/domik-v-derevne-dom-v-der-moloko-ster-3-2-950g--309202 "Санкт-Петербург и область"
```

### Выходные файлы:

-   `screenshot.jpg` – скриншот страницы товара
    
-   `product.txt` – характеристики товара в формате:
    
    ```
    price=89.9
    priceOld=134
    rating=4.8
    reviewCount=780
    ```
    

----------

## Часть 2: Парсинг товаров категории через API

### Описание

Скрипт `axios.js` выполняет следующее:

-   Анализирует сетевые запросы сайта
    
-   Получает список товаров с первой страницы категории
    
-   Извлекает информацию о товарах: название, рейтинг, количество отзывов, цена, акционная цена, скидка
    
-   Сохраняет данные в `products-api.txt`
    

### Использование

```
node axios.js <url_категории>
```

**Пример:**

```
node axios.js https://www.vprok.ru/catalog/7382/pomidory-i-ovoschnye-nabory
```

### Выходной файл:

-   `products-api.txt` – список товаров в формате:
    
    ```
    Название товара: [Название]
    Ссылка на изображение: [Ссылка]
    Рейтинг: [Рейтинг]
    Количество отзывов: [Отзывы]
    Цена: [Цена]
    Акционная цена: [Акционная цена]
    Цена до акции: [Цена до акции]
    Размер скидки: [Скидка]
    ```
    

----------

## Дополнительно

### Линтинг и форматирование

Для соблюдения единого стиля кода рекомендуется использовать:

```
npm run lint
npm run format
```
